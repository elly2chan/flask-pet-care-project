<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project API Documentation</title>

    <!-- External CSS (Google Fonts) -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Open+Sans:wght@300;600&display=swap" rel="stylesheet">

    <style>
        /* Global Styles */
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            background-color: #f8f8f8;
            display: grid;
            justify-items: center;
            padding-top: 40px;
        }

        h1, h2, h3 {
            margin: 0;
        }

        /* Container */
        .container {
            width: 100%;
            max-width: 960px;  /* Restrict width to 960px */
            padding: 40px;
            background-color: #fff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }

        /* Header */
        header {
            text-align: center;
            padding-bottom: 40px;
            border-bottom: 3px solid #ddd;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.8rem;
            color: #333;
            margin-top: 50px; /* Add spacing from top */
        }

        header p {
            font-size: 1.1rem;
            color: #555;
        }

        /* Section */
        section {
            padding: 40px 0;
        }

        h2 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Collapsible Section */
        .collapsible {
            background-color: #ddd;
            color: #444;
            cursor: pointer;
            padding: 15px;
            width: 100%;
            border: none;
            text-align: left;
            font-size: 18px;
            border-radius: 8px;
            margin: 10px 0;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .collapsible:hover {
            background-color: #bbb;
            transform: translateY(-3px);
        }

        .active, .collapsible:active {
            background-color: #999;
        }

        .content {
            padding: 10px 20px;
            display: none;
            overflow: hidden;
            background-color: #f1f1f1;
            border-left: 4px solid #ff6600;
            border-radius: 8px;
            margin-top: 10px;
        }

        .endpoint {
            margin-bottom: 20px;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            border-left: 5px solid #ff6600;
        }

        .endpoint h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .endpoint p {
            font-size: 1rem;
            color: #555;
        }

        pre {
            background-color: #2d2d2d;
            color: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px 0;
            background-color: #333;
            color: #fff;
            width: 100%;
            bottom: 0;
            margin-top: 40px;
        }

        footer a {
            color: #ff6600;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            header h1 {
                font-size: 2rem;
            }
            h2 {
                font-size: 1.5rem;
            }
            .endpoint h3 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>

    <header>
        <h1>Project API Documentation</h1>
        <p>Your one-stop documentation for managing users, pets, products, and orders.</p>
    </header>

    <div class="container">

        <!-- API Documentation -->

        <section>
            <h2>Available Endpoints</h2>

            <!-- user Endpoints -->
            <button class="collapsible">User Endpoints</button>
            <div class="content">

                <!-- Register User -->
                <button class="collapsible">POST /register - Register a User</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>POST /register</h3>
                        <p><strong>Description:</strong> Registers a new user. <strong>Authorization:</strong> No authentication required (public).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "email": "user@example.com",
    "password": "SecurePassword123",
    "first_name": "John",
    "last_name": "Doe",
    "phone": "1234567890",
    "iban": "DE89370400440532013000"
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "User registered successfully"
}</code></pre>
                    </div>
                </div>

                <!-- Login User -->
                <button class="collapsible">POST /login - Log in a User</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>POST /login</h3>
                        <p><strong>Description:</strong> Authenticates a user and returns a token. <strong>Authorization:</strong> No authentication required (public).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "email": "user@example.com",
    "password": "SecurePassword123"
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "token": "JWT-TOKEN"
}</code></pre>
                    </div>
                </div>

                <!-- Change Password -->
                <button class="collapsible">POST /users/change_password - Change Password</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>POST /users/change_password</h3>
                        <p><strong>Description:</strong> Changes the password of the authenticated user. <strong>Authorization:</strong> Requires authentication (JWT token).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "current_password": "OldPassword123",
    "new_password": "NewSecurePassword123"
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Password changed successfully"
}</code></pre>
                    </div>
                </div>

            </div>

            <!-- pet Endpoints -->
            <button class="collapsible">Pet Endpoints</button>
            <div class="content">

                <!-- Add Pet -->
                <button class="collapsible">POST /pets/add_pet - Add a Pet</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>POST /pets/add_pet</h3>
                        <p><strong>Description:</strong> Adds a new pet for the authenticated user. <strong>Authorization:</strong> Requires authentication (JWT token).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "name": "Koda",
    "gender": "male",
    "date_of_birth": "2024-07-28",
    "breed": "Mixed Breed",
    "pet_type": "dog",
    "is_stray": true,
    "european_passport": true,
    "microchip": true,
    "microchip_id": "1234567890"
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Pet added successfully"
}</code></pre>
                    </div>
                </div>

                <!-- Get Pets -->
                <button class="collapsible">GET /pets - Get Pets</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>GET /pets</h3>
                        <p><strong>Description:</strong> Retrieves all pets of the authenticated user. Admins can see all pets. <strong>Authorization:</strong> Requires authentication (JWT token), admin can view all pets.</p>
                        <p><strong>Response:</strong></p>
                        <pre><code>[
    {
        "name": "Archie",
        "gender": "male",
        "date_of_birth": "2010-12-28",
        "breed": "Chihuahua",
        "pet_type": "dog",
        "is_stray": false,
        "european_passport": true,
        "microchip": false,
        "microchip_id": null
    },
    {
        "name": "Koda",
        "gender": "male",
        "date_of_birth": "2024-07-28",
        "breed": "Mixed Breed",
        "pet_type": "dog",
        "is_stray": true,
        "european_passport": true,
        "microchip": true,
        "microchip_id": "1234567890"
    }
]
</code></pre>
                    </div>
                </div>

                <!-- Edit Pet -->
                <button class="collapsible">PUT /pets/edit_pet/{pet_id} - Edit a Pet</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>PUT /pets/edit_pet/{pet_id}</h3>
                        <p><strong>Description:</strong> Edits the details of a specific pet. Admins can edit any pet. <strong>Authorization:</strong> Requires authentication (JWT token), admin can edit any pet.</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "name": "Rexy",
    "breed": "Mixed Breed",
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Pet updated successfully"
}</code></pre>
                    </div>
                </div>

                <!-- Delete Pet -->
                <button class="collapsible">DELETE /pets/delete_pet/{pet_id} - Delete a Pet</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>DELETE /pets/delete_pet/{pet_id}</h3>
                        <p><strong>Description:</strong> Deletes a specific pet. Admins can delete any pet. <strong>Authorization:</strong> Requires authentication (JWT token), admin can delete any pet.</p>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Pet deleted successfully"
}</code></pre>
                    </div>
                </div>

            </div>

            <!-- appointment Endpoints -->
            <button class="collapsible">Appointment Endpoints</button>
            <div class="content">

                <!-- Book Appointment -->
                <button class="collapsible">POST /appointments/book - Book an Appointment</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>POST /appointments/book</h3>
                        <p><strong>Description:</strong> Books an appointment for the authenticated user's pet. <strong>Authorization:</strong> Requires authentication (JWT token).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "appointment_datetime": "2024-05-06 15:00:05",
    "pet_name": "Koda",
    "appointment_reason": "Vaccine"
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "id": 1,
    "appointment_datetime": "2024-05-06 15:00:05",
    "owner_id": 1,
    "owner_name": "Elena Konstantinova",
    "owner_phone": "0888888888",
    "pet_id": 3,
    "pet_name": "Koda",
    "appointment_reason": "Vaccine"
}</code></pre>
                    </div>
                </div>

            </div>

            <!-- order Endpoints -->
            <button class="collapsible">Order Endpoints</button>
            <div class="content">

                <!-- Place Order -->
                <button class="collapsible">POST /orders/place_order - Place an Order</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>POST /orders/place_order</h3>
                        <p><strong>Description:</strong> Allows authenticated users to place an order. <strong>Authorization:</strong> Requires authentication (JWT token).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "address": "Sofia, Reduta",
    "product_id": 1,
    "quantity": 3
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Order placed successfully"
}</code></pre>
                    </div>
                </div>

            </div>

            <!-- product Endpoints -->
            <button class="collapsible">Product Endpoints</button>
            <div class="content">

                <!-- Get Products -->
                <button class="collapsible">GET /products - Get all Products</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>GET /products</h3>
                        <p><strong>Description:</strong> Retrieves a list of all available products. <strong>Authorization:</strong> No authentication required (public).</p>
                        <p><strong>Response:</strong></p>
                        <pre><code>[
    {
        "title": "Dog T-Shirt",
        "description": "A funny dog T-Shirt",
        "quantity": 34,
        "price": 5.5,
        "photo_url": "https://www.dfordog.co.uk/user/products/large/hawaiian-dog-shirt-blue-oasis.jpg"
    }
]</code></pre>
                    </div>
                </div>

                <!-- Get Product -->
                <button class="collapsible">GET /products/{product_id} - Get a Product</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>GET /products/{product_id}</h3>
                        <p><strong>Description:</strong> Retrieves details of a specific product. <strong>Authorization:</strong> No authentication required (public).</p>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "title": "Dog T-Shirt",
    "description": "A funny dog T-Shirt",
    "quantity": 34,
    "price": 5.5,
    "photo_url": "https://www.dfordog.co.uk/user/products/large/hawaiian-dog-shirt-blue-oasis.jpg"
}</code></pre>
                    </div>
                </div>

                <!-- Add Product -->
                <button class="collapsible">POST /products/add_product - Add a Product</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>POST /products/add_product</h3>
                        <p><strong>Description:</strong> Allows admins to add a new product. <strong>Authorization:</strong> Requires admin authentication (JWT token).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "title": "Dog T-Shirt",
    "description": "A funny dog T-Shirt",
    "quantity": 34,
    "price": 5.5,
    "photo_url": "https://www.dfordog.co.uk/user/products/large/hawaiian-dog-shirt-blue-oasis.jpg"
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Product added successfully"
}</code></pre>
                    </div>
                </div>

                <!-- Edit Product -->
                <button class="collapsible">PUT /products/edit_product/{product_id} - Edit a Product</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>PUT /products/edit_product/{product_id}</h3>
                        <p><strong>Description:</strong> Allows admins to edit a product. <strong>Authorization:</strong> Requires admin authentication (JWT token).</p>
                        <p><strong>Request Body:</strong></p>
                        <pre><code>{
    "title": "Updated Product Name",
    "price": 25.99
}</code></pre>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Product updated successfully"
}</code></pre>
                    </div>
                </div>

                <!-- Delete Product -->
                <button class="collapsible">DELETE /products/delete_product/{product_id} - Delete a Product</button>
                <div class="content">
                    <div class="endpoint">
                        <h3>DELETE /products/delete_product/{product_id}</h3>
                        <p><strong>Description:</strong> Allows admins to delete a product. <strong>Authorization:</strong> Requires admin authentication (JWT token).</p>
                        <p><strong>Response:</strong></p>
                        <pre><code>{
    "message": "Product deleted successfully"
}</code></pre>
                    </div>
                </div>

            </div>

        </section>

    </div>

    <footer>
        <p>Created by <a href="https://github.com/elly2chan" target="_blank">Elena Konstantinova</a> - 2024</p>
    </footer>

    <!-- Collapsible script -->
    <script>
        var coll = document.getElementsByClassName("collapsible");
        for (var i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        }
    </script>

</body>
</html>
